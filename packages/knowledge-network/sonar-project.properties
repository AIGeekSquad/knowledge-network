# SonarQube Configuration for Knowledge Network Library
# Comprehensive coverage tracking for Unit + E2E tests

sonar.projectKey=knowledge-network
sonar.projectName=Knowledge Network - Modular Graph Engine
sonar.projectVersion=1.0.0

# Source directories
sonar.sources=src/
sonar.sourceEncoding=UTF-8

# Test directories and patterns
sonar.tests=tests/
sonar.test.inclusions=tests/**/*.test.ts,tests/**/*.spec.ts

# TypeScript configuration
sonar.typescript.lcov.reportPaths=coverage/lcov.info,coverage/e2e/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info,coverage/e2e/lcov.info

# Coverage paths for both unit and E2E tests
sonar.coverage.exclusions=**/*.test.ts,**/*.spec.ts,**/tests/**,**/node_modules/**,**/dist/**
sonar.testExecutionReportPaths=test-results/unit-results.xml,test-results/e2e-results.xml

# E2E Test Coverage (Playwright)
sonar.javascript.environments=nodejs,browser
sonar.javascript.exclusions=**/node_modules/**,**/tests-archive/**,**/src-archive/**

# File patterns
sonar.inclusions=**/*.ts,**/*.js
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/test-results/**

# Quality gates
sonar.qualitygate.wait=true

# Analysis parameters
sonar.analysis.mode=publish
sonar.buildString=${BUILD_NUMBER}
sonar.branch.name=${BRANCH_NAME}

# Additional E2E test tracking
sonar.genericcoverage.unitTestReportPaths=test-results/unit-results.xml
sonar.genericcoverage.integrationTestReportPaths=test-results/e2e-results.xml

# Custom properties for E2E tracking
sonar.custom.e2e.testCount=250
sonar.custom.unit.testCount=59
sonar.custom.total.testCount=309
sonar.custom.rendering.strategies=Canvas,SVG,WebGL
sonar.custom.browser.support=Chrome,Firefox,Safari,Mobile